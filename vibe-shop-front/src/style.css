/* Global premium theme: fonts, colors, base elements, and utilities */

/* Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap');

:root {
  /* Palette */
  --bg: #0b0c0f; /* deep charcoal background */
  --bg-elev: #111318; /* elevated surfaces */
  --surface: #14161c;
  --text-1: #e8eaed; /* primary text */
  --text-2: #b3b8c2; /* secondary text */
  --muted: #7a8291;
  --brand: #6431da; /* violet-500 */
  --brand-2: #22d3ee; /* cyan-400 */
  --success: #22c55e;
  --danger: #ef4444;
  --warning: #f59e0b;

  /* UI */
  --radius: 14px;
  --radius-sm: 10px;
  --radius-xs: 8px;
  --shadow-sm: 0 6px 18px rgba(0,0,0,0.25);
  --shadow-md: 0 12px 30px rgba(0,0,0,0.35);
  --shadow-lg: 0 30px 60px rgba(0,0,0,0.45);
  --ring: 0 0 0 2px rgba(139, 92, 246, 0.35), 0 0 0 6px rgba(34, 211, 238, 0.15);
}

/* Light theme opt-in */
[data-theme="light"] {
  --bg: #f6f7fb;
  --bg-elev: #ffffff;
  --surface: #ffffff;
  --text-1: #0b1020;
  --text-2: #3b4255;
  --muted: #707792;
  --brand: #7c3aed;
  --brand-2: #06b6d4;
  --shadow-sm: 0 6px 18px rgba(17, 23, 41, 0.08);
  --shadow-md: 0 12px 30px rgba(17, 23, 41, 0.12);
  --shadow-lg: 0 30px 60px rgba(17, 23, 41, 0.18);
}

html, body, #app {
  /* Let page grow beyond viewport so background extends with content */
  min-height: 100%;
}

/* Layout sanity: avoid overflow from intrinsic sizes */
*, *::before, *::after { box-sizing: border-box; }
html, body, #app { overflow-x: hidden; }
img, svg, video { max-width: 100%; height: auto; }

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  /* Ensure root canvas uses the same base color to avoid seams below body */
  background-color: var(--bg);
}

body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text-1);
  /* Base color + soft overlays (avoid harsh seam from base linear gradient) */
  background-color: var(--bg);
  background-image:
    radial-gradient(1200px 700px at 12% -10%,
      rgba(100,49,218,0.18) 0%,
      rgba(100,49,218,0.12) 30%,
      rgba(100,49,218,0.08) 55%,
      rgba(100,49,218,0.04) 72%,
      transparent 92%),
    radial-gradient(1100px 550px at 110% 12%,
      rgba(34,211,238,0.16) 0%,
      rgba(34,211,238,0.10) 35%,
      rgba(34,211,238,0.06) 60%,
      rgba(34,211,238,0.03) 78%,
      transparent 94%);
  background-repeat: no-repeat;
  background-attachment: scroll;
}

/* Typography */
h1, h2, h3 {
  margin: 0 0 12px;
  line-height: 1.15;
}

h1 {
  font-size: clamp(28px, 4vw, 40px);
  font-weight: 700;
  letter-spacing: -0.02em;
  font-family: "Playfair Display", Georgia, serif;
}

h2 {
  font-size: clamp(22px, 3vw, 28px);
  font-weight: 700;
}

p { color: var(--text-2); }

a { color: var(--brand-2); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Layout */
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 24px 16px;
}

.app-shell {
  min-height: 100%;
  display: flex;
  flex-direction: column;
}

/* Surface / Card */
.card {
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.07);
  border-radius: var(--radius);
  box-shadow: var(--shadow-md);
  padding: 18px;
  transition: transform .25s cubic-bezier(.2,.7,.2,1), box-shadow .25s ease;
  will-change: transform;
  min-width: 0; /* Allow grid/flex to shrink cards safely */
}
.card:hover { box-shadow: var(--shadow-lg); transform: translateX(-4px); }

.chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.08);
  color: var(--text-2);
}

/* Controls */
button, .btn {
  appearance: none;
  border: 0;
  border-radius: var(--radius-sm);
  padding: 12px 16px;
  font-weight: 600;
  letter-spacing: 0.2px;
  cursor: pointer;
  color: #0a0b0e;
  background: linear-gradient(180deg, #ffffff, #f4f6f9);
  box-shadow: 0 1px 0 rgba(255,255,255,0.5) inset, var(--shadow-sm);
  transition: transform .12s ease, box-shadow .2s ease, filter .2s ease;
}
button:hover, .btn:hover { transform: translateY(-1px); }
button:active, .btn:active { transform: translateY(0); filter: brightness(.98); }

.btn-primary {
  color: #fff;
  background: linear-gradient(135deg, var(--brand) 0%, var(--brand-2) 100%);
  box-shadow: 0 1px 0 rgba(255,255,255,0.15) inset, 0 8px 24px rgba(139,92,246,0.35), 0 10px 40px rgba(34,211,238,0.25);
  position: relative;
  overflow: hidden;
}

.btn-secondary {
  color: var(--text-1);
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  border: 1px solid rgba(255,255,255,0.10);
}

.btn-danger { color: #fff; background: linear-gradient(135deg, #ef4444, #f97316); }
.btn-success { color: #fff; background: linear-gradient(135deg, #22c55e, #14b8a6); }

/* Inputs */
input, select, textarea {
  background: rgba(255,255,255,0.06);
  color: var(--text-1);
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: var(--radius-xs);
  padding: 12px 14px;
  outline: none;
  width: 100%;
  box-shadow: 0 1px 0 rgba(255,255,255,0.05) inset;
  transition: box-shadow .18s ease, border-color .18s ease;
}
input::placeholder, textarea::placeholder { color: var(--muted); }
input:focus, select:focus, textarea:focus { box-shadow: var(--ring); border-color: rgba(139,92,246,0.45); }

label { color: var(--text-2); font-size: 14px; }

/* Header */
.site-header {
  position: sticky;
  top: 0; z-index: 50;
  background: linear-gradient(180deg, rgba(20,22,28,0.85), rgba(20,22,28,0.65));
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255,255,255,0.08);
}
.site-header .inner {
  display: flex; align-items: center; justify-content: space-between;
  gap: 16px; padding: 16px 16px; max-width: 1200px; margin: 0 auto;
}
.site-header .brand .title { font-weight: 800; letter-spacing: -0.02em; }
.site-header .brand .subtitle { color: var(--muted); }

/* Products grid (fallback if components don't scope it) */
.grid-premium { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 20px; }
.product-card .thumb { border-radius: var(--radius-sm); background: rgba(255,255,255,0.04); }

/* Utility */
.muted { color: var(--text-2); }
.spacer { height: 16px; }

/* Route transitions */
.fade-enter-active, .fade-leave-active { transition: opacity .24s ease; }
.fade-enter-from, .fade-leave-to { opacity: 0; }


/* Fun micro-interactions */
@keyframes pop-in {
  0%   { opacity: 0; transform: translateY(12px) scale(.98); }
  60%  { opacity: 1; transform: translateY(0) scale(1.01); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}

/* Stagger reveal for product grid */
.grid-premium > .card { animation: pop-in .5s both; }
.grid-premium > .card:nth-child(1)  { animation-delay: .03s; }
.grid-premium > .card:nth-child(2)  { animation-delay: .06s; }
.grid-premium > .card:nth-child(3)  { animation-delay: .09s; }
.grid-premium > .card:nth-child(4)  { animation-delay: .12s; }
.grid-premium > .card:nth-child(5)  { animation-delay: .15s; }
.grid-premium > .card:nth-child(6)  { animation-delay: .18s; }
.grid-premium > .card:nth-child(7)  { animation-delay: .21s; }
.grid-premium > .card:nth-child(8)  { animation-delay: .24s; }
.grid-premium > .card:nth-child(9)  { animation-delay: .27s; }
.grid-premium > .card:nth-child(10) { animation-delay: .30s; }
.grid-premium > .card:nth-child(11) { animation-delay: .33s; }
.grid-premium > .card:nth-child(12) { animation-delay: .36s; }

/* Sheen sweep on primary buttons */
.btn-primary::before {
  content: "";
  position: absolute;
  top: 0;
  left: -150%;
  width: 120%;
  height: 100%;
  background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,.65) 50%, transparent 100%);
  transform: skewX(-20deg);
  opacity: 0;
}
.btn-primary:hover::before { animation: sheen 650ms ease forwards; opacity: 1; }
@keyframes sheen { to { left: 150%; } }

/* Mobile layout adjustments */
@media (max-width: 640px) {
  .container { padding: 20px 12px; }
  .grid-premium { grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; }
}

@media (max-width: 480px) {
  .container { padding: 16px 10px; }
  .grid-premium { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; }
  .card { padding: 12px; border-radius: var(--radius-xs); }
}

@media (max-width: 360px) {
  .container { padding: 14px 8px; }
  .grid-premium { grid-template-columns: 1fr; gap: 10px; }
}

@media (max-width: 420px) {
  .grid-premium { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); }
}

/* Print styles */
@media print {
  /* Hide global chrome and interactive UI */
  header, nav, footer,
  .site-header,
  .confetti,
  .btn,
  .btn-secondary,
  .icon,
  .search,
  .logout,
  .profile,
  .with-badge,
  .chip {
    display: none !important;
  }

  /* Make receipt look clean on paper */
  .receipt {
    border: 0 !important;
    background: transparent !important;
    box-shadow: none !important;
    color: #000 !important;
    -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
  }

  /* Print only the receipt when body has a special flag */
  body.print-receipt-only * { visibility: hidden !important; }
  body.print-receipt-only .receipt,
  body.print-receipt-only .receipt * { visibility: visible !important; }
  body.print-receipt-only .receipt {
    position: absolute !important;
    top: 0; left: 0; right: 0;
    width: 100%;
  }

  /* Tighter page margins (cannot disable browser headers/footers) */
  @page { margin: 12mm; }
}
